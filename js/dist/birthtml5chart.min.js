/*! birthtml5chart 09-09-2014 */
!function(){function a(b){if(null===b||"object"!=typeof b)return b;var c={};for(var d in b)b.hasOwnProperty(d)&&(c[d]=a(b[d]));return c}function b(a,b){var c=null;a||(a={});for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function c(a,c,d,e){function f(){return this.fInit&&this.fInit.apply(this,arguments),this}var g=c?c:f;return g.prototype=d?new d:{},b(g.prototype,e),g.prototype.__super=d?d.prototype:null,g.prototype.__className=a,g}function d(a,b,c){var d=b,e=c,f=!0;return"object"!=typeof b||e||(d=b.degree,e=b.mode,f=b.enabled!==!1),a.attr("transform",function(){var a,b,c,g,h,i=null;if(f&&"number"==typeof d)if(a=this.getBBox(),"auto"===e?h="":(b="start"===e?a.x:"end"===e?a.x+a.width:a.x+a.width/2,c=a.y+a.height/2,h=" "+b+","+c),i=this.getAttribute("transform")){if(g=i.split(/\)/g),g.length){i="";for(var j in g)g.hasOwnProperty(j)&&(i+="rotate("+d+h+")")}}else i="rotate("+d+h+")";return i})}function e(a){return a instanceof Array?a:[a]}function f(a){return"."+a}function g(a){if("function"==typeof a)return a;if("object"==typeof a){for(var b in a)if(a.hasOwnProperty(b)){var c=g(b);c!==b&&(a[c]=a[b],a[b]=null,delete a[b])}return a}return a?a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}):{}}function h(a,b){b.x&&a.attr("x",b.x),b.y&&a.attr("y",b.y),b.dx&&a.attr("dx",b.dx),b.dy&&a.attr("dy",b.dy),b.width&&a.attr(b.width),b.heigth&&a.attr(b.height)}function i(a,b){var c,d=typeof b;return"string"===d||"function"===d?(c={},c[a]=b,c):"object"===d?g(b):{}}function j(a,b){if("object"==typeof borderStyle)for(var c in a)a.hasOwnProperty(c)&&("roundCorner"===c?(a.rx=a.rx||a.roundCorner,a.ry=a.ry||a.roundCorner):"dashStyle"===c?a[c]=n.call(this,c,a[c],d3c_getBorderWidth(a),b).value:("stroke"===c||"fill"===c)&&(a[c]=k.call(this,a[c],b).value));return i.call(this,"border",a)}function k(a,b){var c=null,d=null,e=null,f=null,h=0;if("function"==typeof a)return function(c){var d=b?d3.merge(arguments,[b]):arguments;return{value:a.apply(c,d)}}(this);if("object"!=typeof a)return{value:a};if("image"===a.type)return c=this.getBBox(),d=this.d3Sel.append("image").datum(a),d.attr({x:0,y:0,width:c.width,height:c.height,"xlink:href":a.parameters&&a.parameters[0]}),{value:a.indexOf("url")>=0?a:"#url("+a+")",imageNode:d};if("linearGradient"===a.type||"radialGradient"===a.type){var i=b.fDefs();for(e=l(a.type),f=i.append(a.type).attr("id",e).attr(m(a)),h=0;h<a.stops.length;h++)f.append("stop").attr(g({offset:a.stops[h].offset||"0%",stopColor:a.stops[h].stopColor||this.options&&this.options.fill||"white",stopOpacity:a.stops[h].stopOpacity||1}));return{value:"url(#"+e+")",gradientNode:f}}}function l(a){return GLOBAL.prefix+"-"+(a?a+"-":"")+s++ +"-"+Math.random().toString(2).slice(2)}function m(a){var b=a.parameters,c=null;return"linearGradient"===a.type?(b=b||["0%","0%","100%","100%"],"string"==typeof b&&(c=b.split(","),b=[],b[0]=r[c[0]][0],b[1]=r[c[0]][1],b[2]=r[c[1]][0],b[3]=r[c[1]][1]),{x1:b[0],y1:b[1],x2:b[2],y2:b[3]}):"radialGradient"===a.type?{cx:b[0],cy:b[1],r:b[2],fx:b[3],fy:b[4]}:void 0}function n(a,b,c,d){var e,f=b;if("function"==typeof f)return function(b){var c=d?d3.merge(arguments,[d]):arguments;return{name:a,value:f.apply(b,c)}}(this);if(f=f&&f.toLowerCase(),"solid"===f)f="none";else if(f){for(f=f.replace(/(shortdashdotdot)/g,"3,1,1,1,1,1,").replace(/(shortdashdot)/g,"3,1,1,1").replace(/(shortdot)/g,"1,1,").replace(/(shortdash)/g,"3,1,").replace(/(longdash)/g,"8,3,").replace(/(dot)/g,"1,3,").replace(/(dash)/g,"4,3,").replace(/,$/,"").split(","),e=f.length;e--;)f[e]=parseInt(f[e])*c;f=f.join(",")}return{name:a,value:f}}function o(a,b){if("object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&("stroke"===c||"fill"===c)&&(a[c]=k.call(this,a[c],b).value,a[c+"Opacity"]=void 0===a[c+"Opacity"]?1:a[c+"Opacity"]);return i.call(this,"font",a)}function p(a){return i.call(this,"fill",a)}function q(a,b){var c=typeof b;return b?"function"===c?b.call(this,a):"string"===c?d3.format(b).call(this,a):void 0:a}d3.selection.prototype.bbox=function(a){if(!a&&this._bbox)return this._bbox;this._bbox={x:0,y:0,width:0,height:0};for(var b=0,c=this.length;c>b;b++)for(var d=this[b],e=0,f=d.length;f>e;e++){var g=d[e];if(g&&("g"===g.nodeName||"text"===g.nodeName)){var h=g._bbox;(!h||a)&&(h=h||g.getBBox()),this._bbox.x=h.x<this._bbox.x?h.x:this._bbox.x,this._bbox.y=h.y<this._bbox.y?h.y:this._bbox.y,this._bbox.width=h.x+h.width>this._bbox.x+this._bbox.width?h.width:this._bbox.width,this._bbox.height=h.y+h.height>this._bbox.y+this._bbox.height?h.height:this._bbox.height}}return this._bbox},d3.transition.prototype.bbox=d3.selection.prototype.bbox,d3.selection.prototype.opts=function(){return arguments.length?this.property("__opts__",value):this.property("__opts__")};var r={L:["0%","50%"],R:["100%","50%"],T:["50%","0%"],B:["50%","100%"],LT:["0%","0%"],TL:["0%","0%"],LB:["0%","100%"],BL:["0%","100%"],RT:["100%","0%"],TR:["100%","0%"],RB:["100%","100%"],BR:["100%","100%"]},s=0,t={lazyRender:!0,prefix:"d3charts"},u=function(){},v=c("Context",null,Object,{prefix:null,lazyRender:null,fInit:function(){this.prefix=t.prefix,this.lazyRender=t.lazyRender},fDefs:function(){}}),w=c("RenderCallback",null,null,{fBeforeRendering:function(){},fAfterRendering:function(){}}),u=c("Element",null,w,{__className:null,__super:null,context:null,parent:null,options:null,d3Sel:null,isRendered:!1,fInit:function(a,b,c){this.context=a,this.parent=b,this.options=c||{}},fOptions:function(){return arguments.length?(this.options=arguments[0],this.fApplyChange(this.fOptions)):this.options},fApplyChange:function(){return this.context.lazyRender||this.fRedraw(),this},fRender:function(a){return this.d3Sel=a,this.fBeforeRendering.apply(this,arguments),this._fRender.apply(this,arguments),this.isRendered=!0,this.fAfterRendering.apply(this,arguments),this},_fRender:function(){return this},fRedraw:function(){return this.d3Sel&&this.fDestory()&&this.fRender(this.d3Sel),this},fAttr:function(){var a=null;if(this.d3Sel)if(1===arguments.length){if(a=typeof arguments[0],"string"===a)return this.d3Sel.attr(arguments[0]);"object"===a&&this.d3Sel.attr.apply(this,arguments)}else arguments.length&&this.d3Sel.attr.apply(this,arguments);return this},fBBox:function(){return this.d3Sel?a(this.d3Sel.bbox()):{}},fDestory:function(){return this.d3Sel?(this.d3Sel.selectAll("*").remove(),this.isRendered=!1,!0):!1}}),x=c("Text",null,u,{_fRender:function(a){var b=this.options,c=a.selectAll(f(this.__className)).data(e(b.data));c.exit().remove(),c.enter().append("text").attr("class",this.__className),c.text(function(a){return q(a,b.format)}).call(h,b).style(o(b.font)).style(j(b.border)).style(p(b.color)).style(i("text-anchor",b.textAnchor)).call(d,b.rotate)}}),y=y||{};y.Global=t,y.Context=v,y.Text=x,window.birtchart=window.birtchart||y}();