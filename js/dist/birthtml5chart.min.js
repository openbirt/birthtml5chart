/*! birthtml5chart 06-10-2014 */
!function(){function a(a){return"number"==typeof a}function b(a){return"stirng"==typeof a}function c(a){return"funciton"==typeof a}function d(a){return"object"==typeof a}function e(a){if(!a)return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function f(a){return a*Math.PI/180}function g(a){return 180*a/Math.PI}function h(){var a=document.createElement("div");a.setAttribute("id","testdiv"),a.style.height="1in",a.style.left="-100%",a.style.position="absolute",a.style.top="-100%",a.style.width="1in";var b=document.getElementsByTagName("body")[0];b.appendChild(a);var c=document.getElementById("testdiv").offsetWidth;return b.removeChild(a),c}function i(a,b,c){if(!b)return a;var d,e,f,g=bb?bb:bb=h(),i=null;return"number"==typeof a?(d=a,f="px"):(d=parseFloat(a),f=a.indexOf("pt")>0?"pt":a.indexOf("in")>0?"in":a.indexOf("mm")>0?"mm":a.indexOf("cm")>0?"cm":"px"),e=d,"pt"===f?e=g*d/72:"in"===f?e=d*g:"mm"===f?e=g*d/25.4:"cm"===f&&(e=g*d/2.54),"pt"===b?(e=72*e/g,i="pt"):"in"===b?(e/=g,i="in"):"mm"===b?(e=25.4*e/g,i="mm"):"cm"===b?(e=2.54*e/g,i="cm"):"px"===b&&(e=e,i="px"),c===!0?e:e+i}function j(a,b){return i(a,"px",b)}function k(a){if(null===a||"object"!=typeof a)return a;var b=new a.constructor;for(var c in a)a.hasOwnProperty(c)&&(b[c]=k(a[c]));return b}function l(a){if(null===a||"object"!=typeof a)return a;var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=l(a[c]));return b}function m(a,b){if(!b&&a._bbox)return a._bbox;var c="g"===a.nodeName||"text"===a.nodeName?a.getBBox():{x:0,y:0,width:0,height:0},d=r(a);return 0!=d.degree&&(c=n(c,f(d.degree))),a._bbox={x:c.x,y:c.y,width:c.width,height:c.height},a._bbox}function n(a,b){var c,d,e=a.x,f=a.y,g=a.width,h=a.height;return c=Math.sin(b)*h+Math.cos(b)*g,d=Math.sin(b)*g+Math.cos(b)*h,0>c&&(c=Math.abs(c)),0>d&&(d=Math.abs(d)),e+=(g-c)/2,f+=(h-d)/2,{x:parseInt(e),width:parseInt(c),y:parseInt(f),height:parseInt(d)}}function o(a,b){if(!b)return a;if(!a)return k(b);for(var c in b)b.hasOwnProperty(c)&&(a[c]=null===b[c]||"object"!=typeof b[c]?b[c]:o(a[c],b[c]));return a}function p(a,b){var c=null;a||(a={});for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function q(a,b,c,d){function e(){return this.fInit&&this.fInit.apply(this,arguments),this}var f=b?b:e;return f.prototype=c?new c:{},p(f.prototype,d),f.prototype.__super=c?c.prototype:null,f.prototype.__className=a,f}function r(a,b,c){var d=b,e=c,f=!0;if(!d&&!e){var g=a.getAttribute("transform");return g?(g=g.match(cb),g&&g.length?(g=g[0].match(/([\-0-9\.]+)/g),{degree:parseFloat(g[0]),x:parseFloat(g[1]||0),y:parseFloat(g[2]||0)}):{degree:0,x:0,y:0}):{degree:0,x:0,y:0}}"object"!=typeof b||e||(d=b.degree,e=b.mode,f=b.enabled!==!1);var h,i,j,g,k,l;return f&&"number"==typeof d?(h=a.getBBox(),"auto"===e?k="":(i="start"===e?h.x:"end"===e?h.x+h.width:h.x+h.width/2,j=h.y+h.height/2,k=" "+i+" "+j),l="rotate("+d+k+")",g=a.getAttribute("transform"),g?g.match(cb)?g=g.replace(cb,l):g+=" "+l:g=l,a.setAttribute("transform",g)):(g=a.getAttribute("transform"),g=g.replace(cb,""),a.setAttribute("transform",g)),a}function s(a,b,c){var d=b,e=c,f=!0;if(!d&&!e){var g=a.attr("transform");return g?(g=g.match(cb),g&&g.length?(g=g[0].match(/([\-0-9\.]+)/g),{degree:parseFloat(g[0]),x:parseFloat(g[1]||0),y:parseFloat(g[2]||0)}):{degree:0,x:0,y:0}):{degree:0,x:0,y:0}}return"object"!=typeof b||e||(d=b.degree,e=b.mode,f=b.enabled!==!1),a.attr("transform",function(){var a,b,c,g,h,i=null;return f&&"number"==typeof d?(a=this.getBBox(),"auto"===e?g="":(b="start"===e?a.x:"end"===e?a.x+a.width:a.x+a.width/2,c=a.y+a.height/2,g=" "+b+","+c),h="rotate("+d+g+")",i=this.getAttribute("transform"),i?i.match(cb)?i=i.replace(cb,h):i+=" "+h:i=h):(i=this.getAttribute("transform"),i=i.replace(cb,"")),i})}function t(a,b,c,d){function e(a,b,c,e){return"function"==typeof a?a(b,c,e,d):a}if(1===arguments.length){var f=[];return a.each(function(a,b,c){var d,e,g=this.getAttribute("transform");g&&g.indexOf("translate")>=0&&(g=g.match(db),g&&g.length&&(g=g[0].match(/([0-9\.\-]+)/g),g&&g.length&&(d=parseFloat(g[0]),e=g[1]?parseFloat(g[1]):0,f.push({x:d,y:e})))),f[c]||f.push({x:0,y:0})}),f}return a.attr("transform",function(a,d,f){var g="translate("+e(b,a,d,f)+","+e(c,a,d,f)+")",h=this.getAttribute("transform");return h?h.match(db)?h=h.replace(db,g):h+=" "+g:h=g,h})}function u(a){return a instanceof Array?a:[a]}function v(a){return"."+a.replace(" ",".")}function w(a){if("function"==typeof a)return a;if("object"==typeof a){for(var b in a)if(a.hasOwnProperty(b)){var c=w(b);c!==b&&(a[c]=a[b],a[b]=null,delete a[b])}return a}return a?a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}):{}}function x(a,b){b.x&&a.attr("x",b.x),b.y&&a.attr("y",b.y),b.dx&&a.attr("dx",b.dx),b.dy&&a.attr("dy",b.dy),b.width&&a.attr("width",b.width),b.heigth&&a.attr("height",b.height)}function y(a,b){var c,d=typeof b;return"string"===d||"function"===d?(c={},c[a]=b,c):"object"===d?w(b):{}}function z(a){return a?a.strokeWidth||a["stroke-width"]||a.width||0:0}function A(a,b){if("object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&("roundCorner"===c?(a.rx=a.rx||a.roundCorner,a.ry=a.ry||a.roundCorner):"dashStyle"===c?a[c]=E.call(this,c,a[c],z(a),b):("stroke"===c||"fill"===c)&&(a[c]=B.call(this,a[c],b)));return y.call(this,"border",a)}function B(a,b){var c=null,d=null,e=null,f=null,g=0;if("function"==typeof a)return function(c){var d=b?d3.merge(arguments,[b]):arguments;return a.apply(c,d)};if("object"!=typeof a)return a;if("image"===a.type)return c=this.getBBox(),d=this.d3Sel.append("image").datum(a),d.attr({x:0,y:0,width:c.width,height:c.height,"xlink:href":a.parameters&&a.parameters[0]}),a.indexOf("url")>=0?a:"#url("+a+")";if("linearGradient"===a.type||"radialGradient"===a.type){var h=b.fDefs();for(e=C(a.type),f=h.append(a.type).attr("id",e).attr(D(a)),g=0;g<a.stops.length;g++)f.append("stop").attr(w({offset:a.stops[g].offset||"0%",stopColor:a.stops[g].stopColor||this.options&&this.options.fill||"white",stopOpacity:a.stops[g].stopOpacity||1}));return"url(#"+e+")"}}function C(a){return GLOBAL.prefix+"-"+(a?a+"-":"")+gb++ +"-"+Math.random().toString(2).slice(2)}function D(a){var b=a.parameters,c=null;return"linearGradient"===a.type?(b=b||["0%","0%","100%","100%"],"string"==typeof b&&(c=b.split(","),b=[],b[0]=fb[c[0]][0],b[1]=fb[c[0]][1],b[2]=fb[c[1]][0],b[3]=fb[c[1]][1]),{x1:b[0],y1:b[1],x2:b[2],y2:b[3]}):"radialGradient"===a.type?{cx:b[0],cy:b[1],r:b[2],fx:b[3],fy:b[4]}:void 0}function E(a,b,c){var d,e=a;if("function"==typeof e)return function(){var a=c?d3.merge(arguments,[c]):arguments;return e.apply(this,a)};if(e=e&&e.toLowerCase(),"solid"===e)e="none";else if(e){for(e=e.replace(/(shortdashdotdot)/g,"3,1,1,1,1,1,").replace(/(shortdashdot)/g,"3,1,1,1").replace(/(shortdot)/g,"1,1,").replace(/(shortdash)/g,"3,1,").replace(/(longdash)/g,"8,3,").replace(/(dot)/g,"1,3,").replace(/(dash)/g,"4,3,").replace(/,$/,"").split(","),d=e.length;d--;)e[d]=parseInt(e[d])*b;e=e.join(",")}return e}function F(a,b){if("object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&("stroke"===c||"fill"===c)&&(a[c]=B.call(this,a[c],b),a[c+"Opacity"]=void 0===a[c+"Opacity"]?1:a[c+"Opacity"]);return y.call(this,"font",a)}function G(a){return y.call(this,"fill",a)}function H(a){return y.call(this,"fill",a)}function I(a){if("string"==typeof a){var b=a.split(/ /g);switch(b.length){case 1:return{top:j(b[0],!0),right:j(b[0],!0),bottom:j(b[0],!0),left:j(b[0],!0)};case 2:return{top:j(b[0],!0),right:j(b[1],!0),bottom:j(b[0],!0),left:j(b[1],!0)};case 3:return{top:j(b[0],!0),right:j(b[1],!0),bottom:j(b[2],!0),left:j(b[1],!0)};case 4:return{top:j(b[0],!0),right:j(b[1],!0),bottom:j(b[2],!0),left:j(b[3],!0)}}return{top:0,right:0,bottom:0,left:0}}var c=o({top:0,right:0,bottom:0,left:0},a);return c}function J(a){return I(a)}function K(){return{x:0,y:0,width:0,height:0}}function L(a,b){var c=typeof b;return b?"function"===c?b.call(this,a):"string"===c?d3.format(b).call(this,a):void 0:a}function M(a){return"center"===a?"middle":"right"===a?"end":"start"}function N(a){return d3.scale[a]&&"function"==typeof d3.scale[a]?d3.scale[a]():d3.scale.ordinal()}function O(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function P(a){return a.rangeExtent?a.rangeExtent():O(a.range())}function Q(a,b,c){return"top"===c||"bottom"===c?["cross"===a.position?-b:0,"above"===a.position?-b:a.position||"top"!==c?b:-b]:["cross"===a.position?-b:0,"left"===a.position?-b:a.position||"left"!==c?b:-b]}function R(a,b){S(a,b),V(a.label,b)}function S(a,b){a.label&&(a.label.position=T(b,a.label.position)),a.major.position=T(b,a.major.position),a.minor&&(a.minor.position=T(b,a.minor.position))}function T(a,b){return U(a,b)}function U(a,b){return"cross"===b?b:"top"===a?"left"===b?"below":"right"===b?"top":b:"bottom"===a?"right"===b?"above":"left"===b?"below":b:"left"===a?"above"===b?"right":"below"===b?"left":b:"right"===a?"below"===b?"left":"above"===b?"right":b:b}function V(a,b){a&&("top"===b||"bottom"===b?(a.align="auto"===a.align?"center":a.align||"center",a.verticalAlign="auto"===a.verticalAlign?"below"===a.position?"top":"bottom":a.verticalAlign||("below"===a.position?"top":"bottom")):(a.align="auto"===a.align?"left"===a.position?"right":"left":a.align||("left"===a.position?"right":"left"),a.verticalAlign="auto"===a.verticalAlign?"center":a.verticalAlign||"center"))}function W(a,b,c){var d={dx:0,dy:0},e=a.label,f=a.major,g=a.minor,h=T(c,f.position),i=T(c,g.position),j=f.enabled?f.size:0,k=g.enabled?g.size:0,l=e.gap,m=e.align,n=0;return"same"===e.position?e.position=h:"opposite"===e.position&&(e.position="cross"===h?"top"===c?"below":"bottom"===c?"above":"left"===c?"right":"left":"below"===h?"above":"above"===h?"below":"left"===h?"right":"left"),"cross"===e.position&&(e.position="top"===c?"above":"bottom"===c?"below":"left"===c?"left":"right"),"bottom"===c||"top"===c?"above"===e.position?(n="below"!==h?j:"below"!==i?k:0,d.dy=-(n+l+b.height)):(n="above"!==h?j:"above"!==i?k:0,d.dy=n+l):("left"===c||"right"===c)&&("left"===e.position?(n="right"!==h?j:"right"!==i?k:0,d.dx="center"===m?-(n+l):"left"===m?-(n+l+b.width):-(n+l),d.dy=-b.height/2):(n="left"!==h?j:"left"!==i?k:0,d.dx="right"===m?n+l+b.width:n+l,d.dy=-b.height/2)),d}function X(a,b){a&&("top"===b||"bottom"===b?a.verticalAlign="above"===a.position?"bottom":"top":a.align="left"===a.position?"right":"left")}function Y(a,b,c,d,e,f){var g={dx:0,dy:0},h=a.position,i=a.gap,j=c.major,k=c.minor,l=T(b,j.position),m=T(b,k.position),n=j.enabled?j.size:0,o=k.enabled?k.size:0,p=c.label.position,q=c.label.gap,r=a.align,s=a.verticalAlign;return"top"===b||"bottom"===b?(g.dx="right"===r?d.width+d.x:"center"===r?(d.width+d.x)/2:d.x,"above"===h||"bottom"===b&&"above"!==h?(g.dy-="below"!==l?n:"below"!==m?o:0,g.dy-="above"===p?f.height+q:0,g.dy-=i):("below"===h||"top"===b&&"below"!==h)&&(g.dy+="above"!==l?n:"above"!==m?o:0,g.dy+="below"===p?f.height+q:0,g.dy+=i)):("left"===b||"right"===b)&&(g.dy="bottom"===s?d.height+d.y:"center"===s?(d.height+d.y)/2:d.y,"left"===h||"right"===b&&"right"!==h?(g.dx-="right"!==l?n:"right"!==m?o:0,g.dx-="left"===p?f.width+q:0,g.dx-=i):("right"===h||"left"===b&&"left"!==h)&&(g.dx+="left"!==l?n:"left"!==m?o:0,g.dx+="right"===p?f.width+q:0,g.dx+=i)),g}function Z(a,b){return"top"===a||"bottom"===a?"M"+b[0]+",0 H"+b[1]:"left"===a||"right"===a?"M"+b[0]+",0 V"+b[1]:void 0}function $(a,b){a.attr("transform",function(a){var c=t(d3.select(this));return"translate("+b(a)+","+c[0].y+"0)"})}function _(a,b){a.attr("transform",function(a){var c=t(d3.select(this));return"translate("+c[0].x+","+b(a)+")"})}function ab(a,b,c){var d=[];if(c&&b.length>1){for(var e,f,g=O(a.domain()),h=-1,i=b.length,j=(b[1]-b[0])/++c;++h<i;)for(e=c;--e>0;)(f=+b[h]-e*j)>=g[0]&&d.push(f);for(--h,e=0;++e<c&&(f=+b[h]+e*j)<g[1];)d.push(f)}return d}d3.selection.prototype.bbox=function(a){if(!a&&this._bbox)return this._bbox;this._bbox={x:0,y:0,width:0,height:0};for(var b=0,c=this.length;c>b;b++)for(var d=this[b],e=0,f=d.length;f>e;e++){var g=d[e];if(g&&("g"===g.nodeName||"text"===g.nodeName)){var h=g._bbox;(!h||a)&&(h=m(g,a)),this._bbox.x=h.x<this._bbox.x?h.x:this._bbox.x,this._bbox.y=h.y<this._bbox.y?h.y:this._bbox.y,this._bbox.width=h.x+h.width>this._bbox.x+this._bbox.width?h.width:this._bbox.width,this._bbox.height=h.y+h.height>this._bbox.y+this._bbox.height?h.height:this._bbox.height}}return this._bbox},d3.transition.prototype.bbox=d3.selection.prototype.bbox,d3.selection.prototype.opts=function(){return arguments.length?this.property("__opts__",value):this.property("__opts__")};var bb,cb=/rotate\(.*?\)/g,db=/translate\(.*?\)/g,eb=1e-6,fb={L:["0%","50%"],R:["100%","50%"],T:["50%","0%"],B:["50%","100%"],LT:["0%","0%"],TL:["0%","0%"],LB:["0%","100%"],BL:["0%","100%"],RT:["100%","0%"],TR:["100%","0%"],RB:["100%","100%"],BR:["100%","100%"]},gb=0,hb={lazyRender:!0,prefix:"d3charts"},ib=function(){},jb=function(){},kb=function(){},lb=q("Context",null,Object,{prefix:null,lazyRender:null,svgNode:null,fInit:function(a){this.prefix=hb.prefix,this.lazyRender=hb.lazyRender,this.svgNode=a},fSvgSel:function(){return arguments.length?(this.svgSel=arugments[0],this):this.svgSel},fDefs:function(){return arguments.length?(this.defs=arguments[0],this):this.defs?this.defs:this.defs=this.svgSel.append("defs")}}),mb=q("RenderCallback",null,null,{fBeforeRendering:function(){},fAfterRendering:function(){}}),ib=q("Element",null,mb,{__className:null,__super:null,context:null,parent:null,options:null,d3Sel:null,isRendered:!1,fInit:function(a,b,c){this.context=a,this.parent=b,this.options=c||{}},fOptions:function(){return arguments.length?(this.options=arguments[0],this.fApplyChange(this.fOptions)):this.options},fApplyChange:function(){return this.context.lazyRender||this.fRedraw(),this},fRender:function(a){return this.d3Sel=a,this.fBeforeRendering.apply(this,arguments),this._fRender.apply(this,arguments),this.isRendered=!0,this.fAfterRendering.apply(this,arguments),this},_fRender:function(){return this},fRedraw:function(){return this.d3Sel&&this.fDestory()&&this.fRender(this.d3Sel),this},fAttr:function(){var a=null;if(this.d3Sel)if(1===arguments.length){if(a=typeof arguments[0],"string"===a)return this.d3Sel.attr(arguments[0]);"object"===a&&this.d3Sel.attr.apply(this,arguments)}else arguments.length&&this.d3Sel.attr.apply(this,arguments);return this},fClassNames:function(){return this.options.id?this.options.id+" "+this.__className:this.__className},fBBox:function(){return this.d3Sel?l(this.d3Sel.bbox()):{}},fDestory:function(){return this.d3Sel?(this.d3Sel.selectAll("*").remove(),this.isRendered=!1,!0):!1}}),nb=q("Text",null,ib,{_fRender:function(a){var b=this.options,c=this.fClassNames(),d=a.selectAll(v(c)).data(u(b.data));return b.enabled===!1?void d.remove():(d.exit().remove(),d.enter().append("text").attr("class",c),b.id&&a.selectAll(v(c)).attr("id",b.id),void d.each(function(a){var c=d3.select(this),d=a.split("\n");if(d.length<=1)c.text(function(a){return L(a,b.format)});else for(var e in d)c.append("tspan").text(function(){return L(d[e],b.format)}).attr("x",b.x||0).attr("dy",1*e+"em")}).style(F(b.font)).style(A(b.border)).style(G(b.color)).call(function(a,b){var c=a.bbox().height,d=b.verticalAlign&&"top"!==b.verticalAlign?"center"===b.verticalAlign?c/2:0:c;if("function"==typeof b.y){var e=b.y;b.y=function(){return e.apply(this,arguments)+d}}else b.y=(b.y||0)+d;a.call(x,b)},b).style("text-anchor",M(b.align)).call(s,b.rotate))}}),jb=q("Label",null,ib,{_fRender:function(a){var b=this.options,c=null,d=z(b.border),f=this.fClassNames(),g=a.selectAll(v(f)).data(u(b.data));return b.enabled===!1?void g.remove():(b.margin=I(b.margin),b.padding=J(b.padding),g.exit().remove(),g.enter().append("g").attr("class",f),b.id&&a.selectAll(v(f)).attr("id",b.id),void g.call(t,b.x||0,b.y||0,this.context).each(function(){var a=d3.select(this),f=a.append("rect").attr("class","outline").attr({x:0,y:0}).style("fill-opacity",eb);e(b.border)&&e(b.background)||(c=a.append("rect").attr("class","border background").style("fill-opacity",eb).style(A(b.border)).style(G(b.background)));var g=a.append("text").attr("class","text").each(function(a){var c=d3.select(this);if("string"==typeof a){var d=a.split("\n");if(d.length<=1)c.text(function(a){return L(a,b.format)});else for(var e in d)c.append("tspan").text(function(){return L(d[e],b.format)}).attr("x",b.x||0).attr("dy",1*e+"em")}else c.text(function(a){return L(a,b.format)})}).style(F(b.font)).style(A(b.fontBorder)).style(G(b.fontColor)),h=f.bbox(),i=c?c.bbox():K(),j=g.bbox();i.x=b.margin.left,i.y=b.margin.top,j.x=i.x+d+b.padding.left,j.y=i.y+d+b.padding.top,i.width=2*(j.x-i.x)+j.width,i.height=2*(j.y-i.y)+j.height,h.width=b.margin.left+i.width+b.margin.right,h.height=b.margin.top+i.height+b.margin.bottom,f.attr({x:h.x,y:h.y,width:h.width,height:h.height}),c&&c.attr({x:i.x,y:i.y,width:i.width,height:i.height}),g.attr({x:j.x,y:j.y+j.height/(g.selectAll("tspan").size()||1)}),g.selectAll("tspan").attr("x",g.attr("x"));var k="right"===b.align?-h.width:"center"===b.align?-h.width/2:0,l="bottom"===b.verticalAlign?-h.height:"center"===b.verticalAlign?-h.height/2:0,m=t(a);a.call(t,m[0].x+k,m[0].y+l,this.context).call(s,b.rotate)}))}}),ob=10,pb=3,qb=5,rb=3,sb=3,kb=q("Axis",null,ib,{_fRender:function(a){var b=this.context,c=this.options,d=c.title,e=c.line,f=c.tick,g=f.major,h=f.minor,i=f.label,l=N(c.type),m=(d3.svg.axis(),this.fClassNames()),n=a.selectAll(v(m)).data([c.domain]),o=j(c.width||a.attr("width"),!0),p=j(c.height||a.attr("height"),!0);if(c.enabled===!1)return void n.remove();if(g.tickNumbers=g.tickNumbers||ob,h.numbers=h.numbers||pb,g.size=g.size||qb,h.size=h.size||rb,i.gap=i.gap||sb,d.gap=d.gap||sb,R(f,c.location),V(c.title,c.location),n.exit().remove(),n.enter().append("g").attr("class",m).call(t,c.x||0,c.y||0,this.context),c.id&&a.selectAll(v(m)).attr("id",c.id),c.background||c.border){var q=n.selectAll(".border.background").data([0]);q.enter().append("rect").attr("class","border background"),d3.transition(q).style(A(c.border)).style(H(c.background)).attr({x:0,y:0,width:o,height:p})}l.domain(c.domain),"x"===c.orient?l.range(c.range?c.range:c.reversed?[o,0]:[0,o]):"y"===c.orient&&l.range(c.range?c.range:c.reversed?[0,p]:[p,0]);var r=this.__scale__||l,s=this.__scale__=l.copy(),u=s.ticks?s.ticks.apply(s,[g.tickNumbers]):s.domain(),x=n.selectAll(".major-tick").data(u,s),y=x.exit().remove(),z=x.enter().insert("g",".axis-line").attr("class","major-tick"),B=String;if(x=n.selectAll(".major-tick"),B="function"==typeof i.format?i.format:s.tickFormat?s.tickFormat.apply(s,[g.tickNumbers],i.format):i.format||String,i.format=B,h&&h.enabled!==!1){var C=ab(s,u,h.numbers),D=n.selectAll(".minor-tick").data(C,String),E=D.exit().remove(),F=D.enter().insert("line",".major-tick").attr("class","minor-tick").style(w(h.style)),G=!0;D=n.selectAll(".minor-tick").style(w(h.style))}var I=P(s),J=n.selectAll(".axis-line").data([c.orient]),K=J.enter().append("path").attr("class","axis-line").style("fill","none");J=d3.transition(J),g&&g.enabled!==!1&&z.append("line").attr("class","major-tick-line").style("fill","none").style(w(g.style)),i.id="tick-label",i.align=i.align||"center";var L=null,M=this;x.each(function(a){var c=k(i);c.data=[a],L=new jb(b,M,c),L.fRender(d3.select(this))});var O=x.selectAll(".major-tick-line"),S=z.selectAll(".tick-label"),T=Q(g,g.size,c.location),U=Q(h,h.size,c.location),bb=(S.bbox(),Z(c.location,I)),cb=null;"top"===c.location||"bottom"===c.location?(cb=$,O.attr("x1",0).attr("x2",0).attr("y1",T[0]).attr("y2",T[1]),G&&(F.attr("y1",U[0]).attr("y2",U[1]),D.attr("x2",0).attr("y1",U[0]).attr("y2",U[1]))):("left"===c.location||"right"===c.location)&&(cb=_,O.attr("x1",T[0]).attr("x2",T[1]).attr("y2",0),G&&(F.attr("x1",U[0]).attr("x2",U[1]),D.attr("x1",U[0]).attr("x2",U[1]).attr("y2",0)));var db=t(S),eb=W(f,S.bbox(),c.location);if(S.call(t,function(a,b,c){return db[c].x+eb.dx},eb.dy,b),K.attr("d",bb).style(w(e.style)),J.attr("d",bb).style(w(e.style)),s.rangeBand){var fb=s.rangeBand()/2,gb=function(a){return s(a)+fb};z.call(cb,gb),x.call(cb,gb)}else z.call(cb,r),x.call(cb,s),y.call(cb,s),G&&(F.call(cb,r),D.call(cb,s),E.call(cb,s));X(d,c.location);n.select(".axis-title").remove();if(d&&d.enabled!==!1){d.id="axis-title";var hb=new jb(b,M,d);hb.fRender(n);var ib=Y(d,c.location,f,n.bbox(!0),eb,S.bbox(!0),n.select(".axis-title").bbox()),kb=n.select(".axis-title"),lb=t(kb);kb.call(t,lb[0].x+ib.dx,lb[0].y+ib.dy)}q.call(t,n.bbox(!0).x,n.bbox(!1).y,b)},fOptions:function(){return arguments.length?(this.options=arguments[0],this):this.options},fDomain:function(){return arguments.length?(this.options.domain=arguments[0],this):this.options.domain},fRange:function(){return arguments.length?(this.options.range=arguments[0],this):this.options.range},fAxisLineCoordinates:function(){var a=d3.select(".axis-line").bbox();return{x:a.x,y:a.y}}}),tb=tb||{};tb.Global=hb,tb.Context=lb,tb.Text=nb,tb.Label=jb,tb.Axis=kb;var ub=ub||{};tb.util=ub,ub.DPI=bb,ub.getDPI=h,ub.uniqueId=C,ub.clone=k,ub.copy=l,ub.merge=o,ub.isFunction=c,ub.isNumber=a,ub.isObject=d,ub.isString=b,ub.emptyObject=e,ub.toRadian=f,ub.toDegree=g,ub.toArray=u,ub.rotateNode=r,ub.adaptSize=i,window.birtchart=window.birtchart||tb}();